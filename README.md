# weather-msg-senderğŸ’Œ

![workflow status](https://github.com/linbudu599/weather-msg-sender/workflows/Auto%20Sender%20Workflow/badge.svg)

> ä¸€ä¸ªå€ŸåŠ© GitHub Actions æ¥å®šæ—¶å‘é€å¤©æ°”é¢„æŠ¥çŸ­ä¿¡çš„å°ç©æ„ â˜â›…â›ˆğŸŒ¤ğŸŒ¥ğŸŒ¦ğŸŒ§ğŸŒ¨ğŸŒ©ğŸŒ€ğŸŒ‚ğŸŒ«ğŸŒ¬

## å®ç°

- **GitHub Actions** çš„è‡ªåŠ¨åŒ–è¿è¡Œ
- [**wttr.in**](https://wttr.in/)ï¼Œæä¾›å¤©æ°”ä¿¡æ¯

  > ~~ä¸ºå•¥ä¸ç”¨æˆç†Ÿçš„ APIï¼Ÿæ¯”å¦‚å½©äº‘å¤© h æ°”å•¥çš„ï¼Ÿå› ä¸ºæ”¶è´¹è¿˜æ˜¯ç”³è¯· API Key æœ‰ç‚¹éº»çƒ¦ï¼Œè€Œä¸”è¿™ä¸ªç½‘ç«™ä¹Ÿèƒ½æä¾› json æ ¼å¼ï¼Œä¾‹å¦‚~~  
  > åç»­ä¼°è®¡ä¼šæ¢æˆå½©äº‘å¤©æ°” API çš„...ï¼Œåœ¨å†™ translate çš„æ—¶å€™æ‰å‘ç°è¿™ä¸ªç½‘ç«™çš„æ•°æ®ä¸å¥½æ•´ç†...
  >
  > ```bash
  > curl wttr.in/NanChang?format=j1
  > ```

- **è…¾è®¯äº‘** æä¾›çŸ­ä¿¡æœåŠ¡

## æµç¨‹

- GitHub Actions ä¼šåœ¨é¢„è®¾å¥½çš„æ—¶é—´å®šæ—¶è§¦å‘ï¼Œè·‘ä¸€é flowï¼Œ[æŸ¥çœ‹ Workflow æ–‡ä»¶](./.github/workflows/action.yml)
- è°ƒç”¨è„šæœ¬è·å–ä¿¡æ¯ï¼Œå†™å…¥ json æ–‡ä»¶ï¼Œå¦‚ [stat.json](tmp/stat.json)
- æå–ä¿¡æ¯ï¼Œè½¬åŒ–ä¸ºæ–‡æœ¬ï¼Œæ·»åŠ  emoji
- ä½¿ç”¨è…¾è®¯äº‘çš„çŸ­ä¿¡ SDK æ¥å‘é€åˆ°æŒ‡å®šçš„æ‰‹æœºå·ï¼Œ[SDK ä½¿ç”¨èŒƒä¾‹](server/send.js)
- å°†å‘é€æƒ…å†µä¿å­˜åˆ°æ—¥å¿—ï¼ˆè¿™é‡Œéœ€è¦å‘è‡ªå·±çš„æœåŠ¡å™¨å‘ä¸€ä¸ª POST è¯·æ±‚ï¼ŒæŠŠæ—¥å¿—ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼‰

## TODO

- [ ] **å°†æ•´ä¸ªé¡¹ç›®å°è£…ä¸ºä¸€ä¸ª npm åŒ…å¹¶å‘å¸ƒ**
- [ ] å½“æ¥å£è¶…æ—¶é‡å¯æœåŠ¡
- [x] é…ç½® action è„šæœ¬
- [ ] æå–ä¿¡æ¯åŠä¸è¯åº“ã€~~emoji~~ï¼ˆéƒ¨åˆ† emoji çŸ­ä¿¡æ— æ³•æ˜¾ç¤ºï¼‰ å»ºç«‹æ˜ å°„
- [ ] è®°å½•æ—¥å¿—åˆ°æœåŠ¡å™¨
- [x] ä» `secrets` ä¸­è¯»å–ç¯å¢ƒå˜é‡

## è¯´æ˜

- è…¾è®¯äº‘çŸ­ä¿¡æ¥å£ä½¿ç”¨

  > è¿™é‡Œé»˜è®¤ä½ å·²ç»å®Œæˆäº†ä»æ³¨å†Œåˆ°è´­ä¹°èµ„æºåŒ…çš„æ“ä½œï¼ˆ**è…¾è®¯äº‘ä¸ªäººç”¨æˆ·é¦–æ¬¡å¼€é€šä¼šèµ é€ 100 æ¡çŸ­ä¿¡ï¼Œæœ€ä½è´­ä¹°æ•°é‡ä¸º 1 åƒæ¡ï¼Œ50 å…ƒ**ï¼‰ã€‚
  >
  > æ¨èç›´æ¥ä½¿ç”¨è…¾è®¯äº‘ SDK(for node.js)ï¼Œè¯·æŸ¥çœ‹[SDK ä½¿ç”¨èŒƒä¾‹](server/send.js)æˆ–[å®˜æ–¹ GitHub ä»“åº“](https://github.com/TencentCloud/tencentcloud-sdk-nodejs)
  >
  > ä½†ä»å»ºè®®äº†è§£ç›¸å…³å®ç°ï¼Œ[è…¾è®¯äº‘æ–‡æ¡£ä¸­å¿ƒ-çŸ­ä¿¡ API](https://cloud.tencent.com/document/product/382/3776)
  >
  > (Tips: ä½ å¯ä»¥åœ¨ [Api-Explorer](https://console.cloud.tencent.com/api/explorer?Product=sms&Version=2019-07-11&Action=SendSms&SignVersion=) ä¸­è¿…é€Ÿç†Ÿæ‚‰æ•´ä¸ªæµç¨‹)

- GitHub Actions & Node ç¯å¢ƒå˜é‡  
  è¯·é˜…è¯» [æ³¨å…¥ secrets ä¸­çš„ç¯å¢ƒå˜é‡](docs/env_inject.md) æ¥è·å–æ›´å¤šä¿¡æ¯
